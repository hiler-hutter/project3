(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(31),r=n.n(c),i=(n(38),n(11)),o=n(5),l=n(6),h=n(8),u=n(7),j=(n(39),n(32)),d=n(2),b=n(0),p=["component","user","path","redirectPath"],O=function(e){var t=e.component,n=e.user,s=e.path,a=e.redirectPath,c=void 0===a?"/":a,r=Object(j.a)(e,p);return Object(b.jsx)(d.b,{exact:!0,path:s,render:function(e){return n?Object(b.jsx)(t,Object(i.a)(Object(i.a)(Object(i.a)({},e),r),{},{user:n})):Object(b.jsx)(d.a,{to:c})}})},m=n(3),x=n.n(m),g=n(10),f=n.p+"static/media/news.b16f48a7.jpg";function v(e){return Object(b.jsxs)("div",{children:[e.news.length>0&&Object(b.jsx)("div",{className:"title-news",children:Object(b.jsx)("h3",{className:"h2-news",children:"Saved and Created News and ProtoTypes"})}),e.news.map((function(e){return"N/A"===e.link?Object(b.jsxs)("div",{className:"card-divI",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:f,alt:"",width:"395",height:"350",className:"logo"})}),Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{children:Object(b.jsxs)(g.b,{to:"/news/".concat(e._id),children:[Object(b.jsx)("h4",{className:"h3-newsL",children:e.title}),Object(b.jsxs)("h5",{className:"h3-newsL",children:["Author: ",e.author]})]})})})]},e._id):Object(b.jsxs)("div",{className:"card-divI",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:f,alt:"",width:"395",height:"350",className:"logo"})}),Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"h3-newsL",children:e.title}),Object(b.jsxs)("h5",{className:"h3-newsL",children:["Author: ",e.author]}),Object(b.jsx)("a",{href:e.link,className:"news-link",children:"Link"})]})})]},e._id)}))]})}var w=n(15),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={title:"",author:"",description:""},e.handleSubmit=function(t){t.preventDefault(),x.a.post("/api/news",{title:e.state.title,author:e.state.author,description:e.state.description,link:"N/A"}).then((function(){e.setState({title:"",author:"",description:""}),e.props.getData()})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(w.a)({},s,a))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"add-news",children:[Object(b.jsx)("h4",{children:"Write interesting news"}),Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("label",{htmlFor:"title"}),Object(b.jsx)("input",{className:"controls-add",type:"text",id:"title",name:"title",placeholder:"Title",value:this.state.title,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"author"}),Object(b.jsx)("input",{className:"controls-add",type:"text",id:"author",name:"author",placeholder:"Author",value:this.state.author,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"description"}),Object(b.jsx)("textarea",{className:"descrip-inp",cols:"40",rows:"10",type:"text",id:"description",name:"description",placeholder:"News Content",value:this.state.description,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"but-addN",children:"Add this News"})]})]})}}]),n}(s.Component),y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={news:[]},e.getData=function(){x.a.get("/api/news").then((function(t){console.log(t),e.setState({news:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"all-news",children:[Object(b.jsx)(N,{getData:this.getData}),Object(b.jsx)(v,{news:this.state.news})]})}}]),n}(s.Component),C=function(e,t){return x.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))},S=function(e,t){return x.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))},F=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",country:"",city:"",message:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(w.a)({},s,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.username,a=n.password;n.country,n.city;C(s,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/login"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"h2-sign",children:"Please fill in this form to create an account"}),Object(b.jsx)("form",{onSubmit:this.handleSubmit,children:Object(b.jsxs)("div",{className:"form-signup",children:[Object(b.jsx)("h3",{className:"h3-sign",children:"Signup Form"}),Object(b.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{className:"controls",type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{className:"controls",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"but-signup",children:"Signup"}),this.state.message&&Object(b.jsx)("h3",{children:this.state.message})]})})]})}}]),n}(s.Component),k=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(w.a)({},s,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.username,a=n.password;S(s,a).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/profile"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"h2-sign",children:"Please fill in this form to Log in"}),Object(b.jsx)("form",{onSubmit:this.handleSubmit,children:Object(b.jsxs)("div",{className:"form-login",children:[Object(b.jsx)("h3",{className:"h3-sign",children:"Login with your Account"}),Object(b.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{className:"controls",type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{className:"controls",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"but-signup",children:"Login"}),this.state.message&&Object(b.jsx)("h3",{children:this.state.message})]})})]})}}]),n}(s.Component);function U(e){var t=function(){x.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e})).then((function(){e.setUser(null)}))};return Object(b.jsx)("nav",{className:"nav-bar",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/",children:"Home"})}),e.user?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/news",children:"News"})}),Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/profile",children:"profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/",onClick:function(){return t()},children:"Logout"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/signup",children:"Signup"})}),Object(b.jsx)("li",{children:Object(b.jsx)(g.b,{to:"/login",children:"Login"})})]})]})})}var D=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"edit-news",children:[Object(b.jsx)("h3",{children:"Edit this News"}),Object(b.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(b.jsx)("input",{className:"controls-edit",id:"title",type:"text",name:"title",value:this.props.title,onChange:this.props.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"author",children:"Author: "}),Object(b.jsx)("input",{className:"controls-edit",id:"author",type:"text",name:"author",value:this.props.author,onChange:this.props.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"description"}),Object(b.jsx)("div",{id:"contenedor",children:Object(b.jsx)("textarea",{className:"edit-inp",cols:"40",rows:"10",type:"text",id:"description",name:"description",placeholder:"News Content",value:this.props.description,onChange:this.props.handleChange})}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"but-editN",children:"Update this News"})]})]})}}]),n}(s.Component),A=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={news:null,title:"",author:"",description:"",error:null,editForm:!1},e.getData=function(){var t=e.props.match.params.id;x.a.get("/api/news/".concat(t)).then((function(t){e.setState({news:t.data,title:t.data.title,author:t.data.author,description:t.data.description})})).catch((function(t){console.log(t),404===t.response.status&&e.setState({error:"Not Found!"})}))},e.deleteNews=function(){x.a.delete("/api/news/".concat(e.state.news._id)).then((function(){e.props.history.push("/news")})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(w.a)({},s,a))},e.toggleEditForm=function(){e.setState((function(t){return{editForm:!e.state.editForm}}))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.title,a=n.description,c=n.author;x.a.put("/api/news/".concat(e.state.news._id),{title:s,description:a,author:c}).then((function(t){e.setState({news:t.data,title:t.data.title,description:t.data.description,author:t.data.author,editForm:!1})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return this.state.error?Object(b.jsx)("h2",{children:this.state.error}):this.state.news?this.state.news.author===this.props.user.username?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"details-news",children:[Object(b.jsxs)("h2",{children:["Title: ",this.state.news.title]}),Object(b.jsxs)("h2",{children:["Author: ",this.state.news.author]}),Object(b.jsxs)("h2",{children:["Description: ",this.state.news.description]})]}),Object(b.jsx)("button",{onClick:this.deleteNews,className:"button-delete",children:"Delete this News"}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:this.toggleEditForm,className:"button-edit",children:"Show Edit form"}),this.state.editForm&&Object(b.jsx)(D,Object(i.a)(Object(i.a)({},this.state),{},{handleSubmit:this.handleSubmit,handleChange:this.handleChange}))]}):Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"details-news",children:[Object(b.jsxs)("h2",{children:["Title: ",this.state.news.title]}),Object(b.jsxs)("h2",{children:["Author: ",this.state.news.author]}),Object(b.jsxs)("h2",{children:["Description: ",this.state.news.description]})]})}):Object(b.jsx)(b.Fragment,{})}}]),n}(s.Component),L=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={news:[]},e.getData=function(){x.a.get("/api/news").then((function(t){console.log(t),e.setState({news:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.news.filter((function(t){return t.author===e.props.user.username}));return console.log(t),console.log(this.props.user.username),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"profile-user",children:['Welcome to your Profile: "',this.props.user.username,'"']}),Object(b.jsx)("div",{className:"all-news",children:Object(b.jsx)(v,{news:t})})]})}}]),n}(s.Component),P=function(e){var t=e.titulo;return Object(b.jsx)("nav",{className:"nav-wrapper light-blue darken-3",children:Object(b.jsx)("a",{href:"#!",className:"brand-logo center",children:t})})},T=n(17),E=function(e,t){var n=Object(s.useState)(e),a=Object(T.a)(n,2),c=a[0],r=a[1];return[c,function(){return Object(b.jsx)("select",{className:"browser-default",value:c,onChange:function(e){return r(e.target.value)},children:t.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.label},e.value)}))})}]},I=function(e){var t=e.guardarCategoria,n=E("general",[{value:"general",label:"General"},{value:"business",label:"Business"},{value:"entertainment",label:"Entertainment"},{value:"health",label:"Health"},{value:"science",label:"Science"},{value:"sports",label:"Sports"},{value:"technology",label:"Technology"}]),s=Object(T.a)(n,2),a=s[0],c=s[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"col s12 m8 offset-m2",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(b.jsx)(c,{}),Object(b.jsx)("div",{className:"input-field col s12",children:Object(b.jsx)("input",{type:"submit",value:"Search"})})]})})})},_=function(e){var t=e.noticia,n=e.user,s=t.urlToImage,a=t.url,c=t.title,r=t.description,i=t.source,o=s?Object(b.jsxs)("div",{className:"card-image",children:[Object(b.jsx)("img",{src:s,alt:c}),Object(b.jsx)("span",{className:"card-title",children:i.name})]}):null;return Object(b.jsx)("div",{className:"col s12 m6 l4",children:Object(b.jsxs)("div",{className:"card",children:[o,Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("h3",{children:c}),Object(b.jsx)("p",{children:r})]}),Object(b.jsxs)("div",{className:"card-action",children:[Object(b.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"waves-effect waves-light btn",children:"go to the news"}),Object(b.jsx)("button",{onClick:function(){console.log("save is ready");t.urlToImage;var e=t.url,s=t.title,a=t.description;t.source;console.log(n),x.a.post("/api/news",{title:s,description:a,author:n.username,link:e}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},className:"button-saveNews",children:"Save this News"})]})]})})},B=function(e){var t=e.user,n=e.noticias;return Object(b.jsx)("div",{className:"row",children:n.map((function(e){return Object(b.jsx)(_,{noticia:e,user:t},e.url)}))})};var W=function(e){var t=Object(s.useState)(""),n=Object(T.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)([]),i=Object(T.a)(r,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){x.a.get("/api/news/".concat(a)).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.log(e)}))}),[a]),Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(P,{titulo:"Breaking News in USA"}),Object(b.jsxs)("div",{className:"container white",children:[Object(b.jsx)(I,{guardarCategoria:c}),Object(b.jsx)(B,{user:e.user,noticias:o})]})]})},M=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(U,{user:this.state.user,setUser:this.setUser}),Object(b.jsx)(O,{exact:!0,path:"/news",user:this.state.user,component:y}),Object(b.jsx)(d.b,{exact:!0,path:"/news/:id",render:function(t){return Object(b.jsx)(A,Object(i.a)({user:e.state.user,setUser:e.setUser},t))}}),Object(b.jsx)(d.b,{exact:!0,path:"/signup",render:function(t){return Object(b.jsx)(F,Object(i.a)({setUser:e.setUser},t))}}),Object(b.jsx)(d.b,{exact:!0,path:"/login",render:function(t){return Object(b.jsx)(k,Object(i.a)({setUser:e.setUser},t))}}),Object(b.jsx)(d.b,{exact:!0,path:"/profile",render:function(t){return Object(b.jsx)(L,Object(i.a)({user:e.state.user,setUser:e.setUser},t))}}),Object(b.jsx)(d.b,{exact:!0,path:"/",render:function(t){return Object(b.jsx)(W,Object(i.a)({user:e.state.user,setUser:e.setUser},t))}})]})}}]),n}(a.a.Component),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));x.a.get("/api/auth/loggedin").then((function(e){console.log("logged in user: ",e.data);var t=e.data;r.a.render(Object(b.jsx)(g.a,{children:Object(b.jsx)(M,{user:t})}),document.getElementById("root"))})),H(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.ab551e18.chunk.js.map